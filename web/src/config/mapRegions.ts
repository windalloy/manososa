/**
 * 地图区域配置
 * 定义地图上可点击的区域及其对应的行为
 */

export interface MapRegion {
  name: string; // 区域名称
  map: '1' | '2' | 'b1'; // 对应地图：1=map_1, 2=map_2, b1=map_b1
  x1: number; // 矩形区域左上角X坐标
  y1: number; // 矩形区域左上角Y坐标
  x2: number; // 矩形区域右下角X坐标
  y2: number; // 矩形区域右下角Y坐标
  message: string; // 点击后显示的文字内容
  bgImage?: string; // 点击后切换的背景图片（可选，如果不提供则保持当前背景）
  switchMap?: '1' | '2' | 'b1'; // 如果是楼层切换区域，指定要切换到的地图
  closeMap?: boolean; // 如果是关闭区域，点击时只关闭地图
  obtainEvidenceId?: string; // 点击该区域时获取的证物ID（可选，如果提供则会在点击时获取该证物）
}

export const mapRegions: MapRegion[] = [
  // map_1 的区域
  {
    name: '会客厅',
    map: '1',
    x1: 848,
    y1: 196,
    x2: 1064,
    y2: 444,
    message: '（一个兼具集会与展示功能的厅堂。原本放置弩枪的支架此刻空空如也。）',
    bgImage: 'bg/01.avif',
  },
  {
    name: '淋浴间',
    map: '1',
    x1: 444,
    y1: 356,
    x2: 663,
    y2: 500,
    message: '（地面与排水口有些湿润，今天下午似乎有人使用过这里。调查焚烧炉也许可以知道些什么。）',
    bgImage: 'bg/02.avif',
  },
  {
    name: '中庭',
    map: '1',
    x1: 665,
    y1: 356,
    x2: 848,
    y2: 500,
    message: '（喷泉系统被改造，淋浴间的水管被临时接入。诺亚似乎想用它制造一个大型蝴蝶喷泉。如此一来，梅露露就不用每天给中庭的花草浇水了，不过大家也不能再去中庭喝茶了。）',
    bgImage: 'bg/03.avif',
  },
  {
    name: '接客室',
    map: '1',
    x1: 703,
    y1: 502,
    x2: 848,
    y2: 635,
    message: '（这个很少使用的房间保持着一种刻板的整洁，所有家具都无声地肃立着，像是等待着不会驻足的少女，像是欢迎着不被接纳的访客。）',
    bgImage: 'bg/01.avif',
  },
  {
    name: '玄关大厅',
    map: '1',
    x1: 849,
    y1: 450,
    x2: 1067,
    y2: 688,
    message: '（艾玛整个下午都面向大门坐在这里，她的证词对于判断人员进出至关重要。）',
    bgImage: 'bg/06.avif',
  },
  {
    name: '审判庭入口通道',
    map: '1',
    x1: 1072,
    y1: 335,
    x2: 1116,
    y2: 538,
    message: '（地面上没有发现特殊的脚印或拖痕。审判庭的大门在尽头耸立着，它见证过太多抉择，却始终保持沉默。）',
    bgImage: 'bg/08.avif',
  },
  {
    name: '审判庭入口通道',
    map: '1',
    x1: 1298,
    y1: 635,
    x2: 1349,
    y2: 688,
    message: '（地面上没有发现特殊的脚印或拖痕。审判庭的大门在尽头耸立着，它见证过太多抉择，却始终保持沉默。）',
    bgImage: 'bg/08.avif',
  },
  {
    name: '审判庭入口通道',
    map: '1',
    x1: 1072,
    y1: 543,
    x2: 1298,
    y2: 693,
    message: '（地面上没有发现特殊的脚印或拖痕。审判庭的大门在尽头耸立着，它见证过太多抉择，却始终保持沉默。）',
    bgImage: 'bg/08.avif',
  },
  {
    name: '审判庭',
    map: '1',
    x1: 1295,
    y1: 223,
    x2: 1526,
    y2: 637,
    message: '（这个令人不快的房间里空无一人。希望能在审判开始前把事件调查清楚。）',
    bgImage: 'bg/09.avif',
  },
  {
    name: '食堂',
    map: '1',
    x1: 1166,
    y1: 274,
    x2: 1295,
    y2: 536,
    message: '（环境肮脏简陋，午间用餐的痕迹已被彻底清理。根据现有证词，除雪莉、梅露露与奈叶香外，其余人员均确认在此用餐。）',
    bgImage: 'bg/05.avif',
  },
  {
    name: '厨房',
    map: '1',
    x1: 1166,
    y1: 213,
    x2: 1295,
    y2: 270,
    message: '（用过的厨具和碗盘随意的摆放着，似乎下午还没有人来收拾过。）',
    bgImage: 'bg/05.avif',
  },
  {
    name: '医务室',
    map: '1',
    x1: 442,
    y1: 190,
    x2: 637,
    y2: 279,
    message: '（药品柜中有各色药水，摆放整齐，但都没有贴标签...可恶，这个监狱的管理者难道不会写字吗？...医务室的阳台有攀爬痕迹，似乎下午曾有人从这里进出大楼。）',
    bgImage: 'bg/04.avif',
  },
  {
    name: '杂物间',
    map: '1',
    x1: 638,
    y1: 190,
    x2: 734,
    y2: 279,
    message: '（物品摆放杂乱，经清点，确认一盒针线及一架人字梯缺失。）',
    bgImage: 'bg/06.avif',
  },
  {
    name: '女厕',
    map: '1',
    x1: 737,
    y1: 195,
    x2: 848,
    y2: 279,
    message: '（设施完好无损，卫生保持得很好，也没有被改造的迹象......这是正确的。）',
    bgImage: 'bg/02.avif',
  },
  {
    name: '日光房',
    map: '1',
    x1: 637,
    y1: 122,
    x2: 848,
    y2: 191,
    message: '（被上锁了，似乎还没有被投入使用。）',
    bgImage: 'bg/06.avif',
  },
  {
    name: '仓库',
    map: '1',
    x1: 381,
    y1: 94,
    x2: 574,
    y2: 157,
    message: '（内部物品有倒塌和散落迹象，空中飞舞着紫色的蝴蝶。地上有一把造型奇特的仪礼剑，剑锋沾有血迹。）',
    bgImage: 'bg/07.avif',
    obtainEvidenceId: '10',
  },
  {
    name: '招待室',
    map: '1',
    x1: 1271,
    y1: 172,
    x2: 1458,
    y2: 206,
    message: '（空置的房间做着被需要的梦，无人问津的路上洒满了阳光。）',
    bgImage: 'bg/23.avif',
  },
  {
    name: '火精之室',
    map: '1',
    x1: 1187,
    y1: 97,
    x2: 1285,
    y2: 160,
    message: '（空置的小房间，但不久之前似乎还在被人使用着。）',
    bgImage: 'bg/20.avif',
  },
  {
    name: '水精之室',
    map: '1',
    x1: 1308,
    y1: 97,
    x2: 1404,
    y2: 160,
    message: '（有明显被调查过的痕迹。但是没有找到什么值得在意的东西。）',
    bgImage: 'bg/15.avif',
  },
  {
    name: '地精之室',
    map: '1',
    x1: 1427,
    y1: 97,
    x2: 1526,
    y2: 160,
    message: '（空置的小房间，鲜有人光顾。房间的角落里有一把......被拆解的弩枪？为什么本应在会客厅的弩枪会出现在这里？）',
    bgImage: 'bg/20.avif',
    obtainEvidenceId: '05',
  },
  {
    name: '监牢入口',
    map: '1',
    x1: 442,
    y1: 711,
    x2: 1001,
    y2: 797,
    message: '（出门后左手边，有一片花草被明显压倒，旁边还放着一架人字梯，看起来像是从杂物间搬出来的。）',
    bgImage: 'bg/17.avif',
    obtainEvidenceId: '06',
  },
  {
    name: '围墙',
    map: '1',
    x1: 188,
    y1: 145,
    x2: 345,
    y2: 290,
    message: '（魔女岛的边界，高大而不可逾越。检查了一圈，没有发现任何异常的痕迹。）',
    bgImage: 'bg/18.avif',
  },
  {
    name: '湖',
    map: '1',
    x1: 170,
    y1: 343,
    x2: 358,
    y2: 531,
    message: '（岛屿一隅的湖泊平静如镜。岸边的草地上有一处明显的压痕，显示有人曾在此久坐。不远处，一个透明的玻璃药剂瓶倒在地上，瓶口还残留着几滴未干的液体。）',
    bgImage: 'bg/16.avif',
    obtainEvidenceId: '09',
  },
  {
    name: '花田',
    map: '1',
    x1: 175,
    y1: 566,
    x2: 353,
    y2: 759,
    message: '（诺亚和蕾雅今天下午都来过这里，摘走了不少花。诺亚大概是为了她的艺术创作，蕾雅...那个花环现在还放在她宿舍里，说是要送给我。这份心意是好的，但希望她下次能提前问问我要不要。）',
    bgImage: 'bg/19.avif',
  },
  // map_2 的区域
  {
    name: '娱乐室',
    map: '2',
    x1: 447,
    y1: 254,
    x2: 663,
    y2: 503,
    message: '（桌子上摆放着还未喝完的茶，说明下午曾有人在这里活动。）',
    bgImage: 'bg/12.avif',
  },
  {
    name: '娱乐室',
    map: '2',
    x1: 663,
    y1: 254,
    x2: 848,
    y2: 353,
    message: '（桌子上摆放着还未喝完的茶，说明下午曾有人在这里活动。）',
    bgImage: 'bg/12.avif',
  },
  {
    name: '诺亚的工作室',
    map: '2',
    x1: 703,
    y1: 508,
    x2: 848,
    y2: 635,
    message: '（离图书室最近的房间。充斥着颜料和...红酒的气味？画架上没有完成的作品。垃圾桶里有一些揉皱的纸团。诺亚的素描本摊开放在桌面上。）',
    bgImage: 'bg/31.avif',
    obtainEvidenceId: '07',
  },
  {
    name: '图书室',
    map: '2',
    x1: 1072,
    y1: 340,
    x2: 1295,
    y2: 635,
    message: '（玛格的尸体已被移走，图书室内部和门口的血迹还在。蕾雅的刺剑作为凶器被发现，剑身沾有血迹。奈叶香的黑色发带落在不远处，一端浸染了血迹。一支弩箭深深嵌入樱树的树干，树下靠着一把扫帚......使用的凶器很简易，现场的状况却很复杂呢。）',
    bgImage: 'bg/11.avif',
  },
  {
    name: '二楼大厅',
    map: '2',
    x1: 853,
    y1: 198,
    x2: 1071,
    y2: 693,
    message: '（连接着二楼各个房间的狭长区域。阳光透过彩绘玻璃窗，在走廊的地面上投下斑斓的光影。正对图书室的彩色玻璃窗尤为干净，是被谁擦拭过了吗？）',
    bgImage: 'bg/14.avif',
  },
  // map_b1 的区域
  {
    name: '梅露露的房间',
    map: 'b1',
    x1: 381,
    y1: 193,
    x2: 483,
    y2: 279,
    message: '（整洁得没有一丝生活气息的宿舍，像是无声蛰伏着的透明空气。）',
    bgImage: 'bg/21.avif',
  },
  {
    name: '可可和汉娜的房间',
    map: 'b1',
    x1: 484,
    y1: 193,
    x2: 577,
    y2: 279,
    message: '（可可的床上有几根数据线，汉娜的床铺则装饰着蕾丝...没想到汉娜能缝出这么精美的东西。）',
    bgImage: 'bg/21.avif',
  },
  {
    name: '蕾雅和米莉亚的房间',
    map: 'b1',
    x1: 578,
    y1: 193,
    x2: 676,
    y2: 279,
    message: '（米莉亚的床上有几本从娱乐室拿来的电影杂志，而蕾雅的床上放着一个...新鲜的花环？她是这么有少女心的人吗？）',
    bgImage: 'bg/21.avif',
  },
  {
    name: '诺亚和安安的房间',
    map: 'b1',
    x1: 678,
    y1: 193,
    x2: 775,
    y2: 279,
    message: '（画室开放之后，诺亚不再侵占宿舍的墙面了。尚未成熟的颜料与墨迹，正试图理解和交融着彼此。）',
    bgImage: 'bg/21.avif',
  },
  {
    name: '艾玛和希罗的房间',
    map: 'b1',
    x1: 776,
    y1: 193,
    x2: 871,
    y2: 279,
    message: '（这几天实在有些累过头了，案发的时候，我在床上睡得可香了。）',
    bgImage: 'bg/21.avif',
  },
  {
    name: '玛格和奈叶香的房间',
    map: 'b1',
    x1: 874,
    y1: 193,
    x2: 970,
    y2: 279,
    message: '（本就无光的宿舍在玛格的布置下显得更加阴暗。奈叶香的物品很少，房间里几乎都是玛格的东西。）',
    bgImage: 'bg/21.avif',
  },
  {
    name: '雪莉和亚里沙的房间',
    map: 'b1',
    x1: 971,
    y1: 193,
    x2: 1069,
    y2: 279,
    message: '（桌子上的药瓶似乎已经被收走了，宿舍看上去空荡荡的。）',
    bgImage: 'bg/21.avif',
  },
  {
    name: '牢房',
    map: 'b1',
    x1: 381,
    y1: 283,
    x2: 1069,
    y2: 334,
    message: '（这里是宿舍区域，点击具体宿舍可以进行更详细的调查。）',
    bgImage: 'bg/22.avif',
  },
  {
    name: '惩罚室',
    map: 'b1',
    x1: 1090,
    y1: 462,
    x2: 1349,
    y2: 681,
    message: '（整个下午雪莉都被关在这里，直到刚才雪莉才被放出来。目前，玛格的尸体以“自杀”的名义被投票关入惩罚室，这一举动旨在让全体成员都能参与调查。）',
    bgImage: 'bg/27.avif',
  },
  {
    name: '焚烧炉',
    map: 'b1',
    x1: 584,
    y1: 503,
    x2: 706,
    y2: 627,
    message: '（焚烧炉内发现大量樱花花瓣，其新鲜度与上午雪莉造成的樱花雨吻合。一件明显属于艾玛的衣物被抛于花瓣之上，可推断衣物是在花瓣被倒入后才被扔进来的。）',
    bgImage: 'bg/24.avif',
    obtainEvidenceId: '03',
  },
  // 楼层切换区域（map_1）
  {
    name: '一层',
    map: '1',
    x1: 66,
    y1: 884,
    x2: 236,
    y2: 1003,
    message: '一层',
    switchMap: '1', // 保持显示 map_1
  },
  {
    name: '二层',
    map: '1',
    x1: 249,
    y1: 884,
    x2: 414,
    y2: 1003,
    message: '二层',
    switchMap: '2', // 切换到 map_2
  },
  {
    name: '地下一层',
    map: '1',
    x1: 429,
    y1: 884,
    x2: 594,
    y2: 1003,
    message: '地下一层',
    switchMap: 'b1', // 切换到 map_b1
  },
  // 楼层切换区域（map_2）
  {
    name: '一层',
    map: '2',
    x1: 66,
    y1: 884,
    x2: 236,
    y2: 1003,
    message: '一层',
    switchMap: '1', // 切换到 map_1
  },
  {
    name: '二层',
    map: '2',
    x1: 249,
    y1: 884,
    x2: 414,
    y2: 1003,
    message: '二层',
    switchMap: '2', // 保持显示 map_2
  },
  {
    name: '地下一层',
    map: '2',
    x1: 429,
    y1: 884,
    x2: 594,
    y2: 1003,
    message: '地下一层',
    switchMap: 'b1', // 切换到 map_b1
  },
  // 楼层切换区域（map_b1）
  {
    name: '一层',
    map: 'b1',
    x1: 66,
    y1: 884,
    x2: 236,
    y2: 1003,
    message: '一层',
    switchMap: '1', // 切换到 map_1
  },
  {
    name: '二层',
    map: 'b1',
    x1: 249,
    y1: 884,
    x2: 414,
    y2: 1003,
    message: '二层',
    switchMap: '2', // 切换到 map_2
  },
  {
    name: '地下一层',
    map: 'b1',
    x1: 429,
    y1: 884,
    x2: 594,
    y2: 1003,
    message: '地下一层',
    switchMap: 'b1', // 保持显示 map_b1
  },
  // 关闭按钮区域（所有地图）
  {
    name: '关闭',
    map: '1',
    x1: 1752,
    y1: 1,
    x2: 1917,
    y2: 142,
    message: '关闭',
    closeMap: true, // 点击时关闭地图
  },
  {
    name: '关闭',
    map: '2',
    x1: 1752,
    y1: 1,
    x2: 1917,
    y2: 142,
    message: '关闭',
    closeMap: true, // 点击时关闭地图
  },
  {
    name: '关闭',
    map: 'b1',
    x1: 1752,
    y1: 1,
    x2: 1917,
    y2: 142,
    message: '关闭',
    closeMap: true, // 点击时关闭地图
  },
];

/**
 * 根据地图类型和点击坐标查找对应的区域
 * @param mapType 地图类型：'1' | '2' | 'b1'
 * @param x 点击的X坐标（相对于图片的坐标）
 * @param y 点击的Y坐标（相对于图片的坐标）
 * @returns 找到的区域，如果没有找到则返回null
 */
export const findRegionByClick = (
  mapType: '1' | '2' | 'b1',
  x: number,
  y: number
): MapRegion | null => {
  return (
    mapRegions.find(
      (region) =>
        region.map === mapType &&
        x >= region.x1 &&
        x <= region.x2 &&
        y >= region.y1 &&
        y <= region.y2
    ) || null
  );
};

